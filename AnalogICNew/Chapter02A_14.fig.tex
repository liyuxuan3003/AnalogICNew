\documentclass{xStandalone}

\begin{document}
\begin{tikzpicture}

\xSetX
\xValDefine{xL}[-4]
\xValDefine{xR}[+4]
\xValMiddle{xC}{xL}{xR}
\xValPropor{xWa}{xL}{xR}[0.05]
\xValPropor{xWc}{xL}{xR}[0.90]
\xValMiddle{xWb}{xWa}{xWc}
\xValMiddle{xWP}{xWa}{xWb}
\xValMiddle{xWN}{xWc}{xWb}

\def\prb{0.18}
\def\pra{0.20}
\def\prpy{0.40}
\def\prsw{0.35}

\def\prmb{0.27}
\def\prma{0.20}

\xValPropor{xPLb}{xWa}{xWb}[\prb]
\xValPropor{xPLa}{xWa}{xWb}[\pra]
\xValPropor{xPLpy}{xWa}{xWb}[\prpy]
\xValPropor{xPLsw}{xWa}{xWb}[\prsw]
\xValMirror{xPRb}{xPLb}{xWP}
\xValMirror{xPRa}{xPLa}{xWP}
\xValMirror{xPRpy}{xPLpy}{xWP}
\xValMirror{xPRsw}{xPLsw}{xWP}

\xValPropor{xNLb}{xWb}{xWc}[\prb]
\xValPropor{xNLa}{xWb}{xWc}[\pra]
\xValPropor{xNLpy}{xWb}{xWc}[\prpy]
\xValPropor{xNLsw}{xWb}{xWc}[\prsw]
\xValMirror{xNRb}{xNLb}{xWN}
\xValMirror{xNRa}{xNLa}{xWN}
\xValMirror{xNRpy}{xNLpy}{xWN}
\xValMirror{xNRsw}{xNLsw}{xWN}

\foreach \pl/\pr/\alp in {xPLa/xPLsw/PS,xPRsw/xPRa/PD,xNLa/xNLsw/NS,xNRsw/xNRa/ND}
{
    \xValPropor{xLb\alp}{\pl}{\pr}[\prmb]
    \xValPropor{xLa\alp}{\pl}{\pr}[\prma]
    \xValPropor{xRb\alp}{\pr}{\pl}[\prmb]
    \xValPropor{xRa\alp}{\pr}{\pl}[\prma]
}

\xValPropor{xLbP}{xWa}{xPLa}[0.32]
\xValPropor{xRbP}{xWa}{xPLa}[0.68]
\xValPropor{xLaP}{xWa}{xPLa}[0.28]
\xValPropor{xRaP}{xWa}{xPLa}[0.72]

\xValPropor{xLbN}{xNRa}{xWc}[0.32]
\xValPropor{xRbN}{xNRa}{xWc}[0.68]
\xValPropor{xLaN}{xNRa}{xWc}[0.28]
\xValPropor{xRaN}{xNRa}{xWc}[0.72]

\xSetY
\xValDefine{yB}[0]
\xValDefine{yA}[2]
\xValPropor{yS}{yB}{yA}[1/3]
\xValPropor{yW}{yS}{yA}[0.40]
\xValPropor{yO}{yW}{yA}[0.50]
\xValOffset{ySiO}{yA}[0.2]
\xValOffset{ySiN}{ySiO}[0.2]
\xValOffset{yGOX}{yA}[0.07]
\xValOffset{yPoly}{yGOX}[0.40]
\xValOffset{yLDD}{yA}[-0.05]
\xValOffset{yISD}{yA}[-0.15]
\xValOffset{yMSIa}{yPoly}[0.05]
\xValOffset{yMSIb}{yA}[0.05]
\xValOffset{yLIG}{yA}[1]
\xValOffset{yIMPb}{yLIG}[0.2]
\xValOffset{yIMPa}{yIMPb}[0.5]
\xValOffset{yOA}{yA}[1.0]
\xValOffset{yOB}{yOA}[0.7]
\xValOffset{yPro}{yOB}[0.7]
\xValOffset{yMA}{yOA}[0.3]
\xValOffset{yMB}{yOB}[0.3]

\draw[fill=mnmP1] (xL|-yB) rectangle node[white] {$p^{+}$ substrate} (xR|-yS);
\draw[fill=mnmP3] (xL|-yS) rectangle (xR|-yO);
\path (xR|-yS) node[above left,white] {$p^{-}$ epitaxy};

\draw[fill=mnmP2] (xPLa|-yA) -- (xPRa|-yA) -- (xPRb|-yO) -- (xWb|-yO) {[rounded corners] -- (xWb|-yW) -- (xWa|-yW)} -- (xWa|-yO) -- (xPLb|-yO) -- (xPLa|-yA);

\draw[fill=mnmN2] (xNLa|-yA) -- (xNRa|-yA) -- (xNRb|-yO) -- (xWc|-yO) {[rounded corners] -- (xWc|-yW) -- (xWb|-yW)} -- (xWb|-yO) -- (xNLb|-yO) -- (xNLa|-yA);

\draw[fill=mnmN0] (xPLpy|-yA) {[rounded corners=0.03cm]  -- (xPLpy|-yLDD) -- (xPLsw|-yLDD) -- (xPLsw|-yISD) -- (xPLb|-yISD) -- (xPLb|-yA)} -- cycle;

\draw[fill=mnmN0] (xPRpy|-yA) {[rounded corners=0.03cm]  -- (xPRpy|-yLDD) -- (xPRsw|-yLDD) -- (xPRsw|-yISD) -- (xPRb|-yISD) -- (xPRb|-yA)} -- cycle;

\draw[fill=mnmP0] (xNLpy|-yA) {[rounded corners=0.03cm]  -- (xNLpy|-yLDD) -- (xNLsw|-yLDD) -- (xNLsw|-yISD) -- (xNLb|-yISD) -- (xNLb|-yA)} -- cycle;

\draw[fill=mnmP0] (xNRpy|-yA) {[rounded corners=0.03cm]  -- (xNRpy|-yLDD) -- (xNRsw|-yLDD) -- (xNRsw|-yISD) -- (xNRb|-yISD) -- (xNRb|-yA)} -- cycle;

\draw[fill=mnmSiO2] (xL|-yO) -- (xPLb|-yO) -- (xPLa|-yA) -- (xPLa|-ySiN) -- (xL|-ySiN) -- cycle;

\draw[fill=mnmSiO2] (xR|-yO) -- (xNRb|-yO) -- (xNRa|-yA) -- (xNRa|-ySiN) -- (xR|-ySiN) -- cycle;

\draw[fill=mnmSiO2] (xPRb|-yO) -- (xPRa|-yA) -- (xPRa|-ySiN) -- (xNLa|-ySiN) -- (xNLa|-yA) -- (xNLb|-yO) -- cycle;

\draw[fill=mnmPolySi] (xPLpy|-yGOX) rectangle (xPRpy|-yPoly);
\draw[fill=mnmPolySi] (xNLpy|-yGOX) rectangle (xNRpy|-yPoly);

\draw[fill=mnmSiO2] (xPLpy|-yGOX) rectangle (xPRpy|-yA);
\draw[fill=mnmSiO2] (xNLpy|-yGOX) rectangle (xNRpy|-yA);

\draw[fill=mnmSi3N4] (xPLpy|-yPoly) to[out=180,in=90] (xPLsw|-yA) -- (xPLpy|-yA) -- cycle;
\draw[fill=mnmSi3N4] (xPRpy|-yPoly) to[out=0,in=90] (xPRsw|-yA) -- (xPRpy|-yA) -- cycle;

\draw[fill=mnmSi3N4] (xNLpy|-yPoly) to[out=180,in=90] (xNLsw|-yA) -- (xNLpy|-yA) -- cycle;
\draw[fill=mnmSi3N4] (xNRpy|-yPoly) to[out=0,in=90] (xNRsw|-yA) -- (xNRpy|-yA) -- cycle;

\path (xWP|-yW) node[above,white] {$p$ well};
\path (xWN|-yW) node[above,white] {\vphantom{$p$}$n$ well};

\path (xWb|-yA) node[black] {\small STI};
\path (xWa|-yA) node[black] {\small STI};
\path (xWc|-yA) node[black] {\small STI};

\xValBorder{xL}{xR}{yB}{yPro}*

\end{tikzpicture}
\end{document}